{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport const searchingData = inputValue => {\n  const searchParams = new URLSearchParams({\n    key: '48259740-4b53b0822f94ea1fa118abb4f',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(array => {\n    if (array.ok === false) {\n      throw new Error(array.status);\n    } else {\n      return array.json();\n    }\n  });\n};\n","'use strict';\n\nexport const errorMessage = (gallery, iziToast) => {\n  gallery.innerHTML = '';\n  iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please, try again!',\n    messageColor: '#fafafb',\n    backgroundColor: '#ef4040',\n    image: '../img/error.png',\n    imageWidth: 24,\n    zindex: 99999,\n    position: 'topRight',\n    maxWidth: '432px',\n    overlayColor: '#b51b1b',\n  });\n};\n\nexport const dataToImages = (array, gallery) => {\n  const { hits } = array;\n  const arrayOfTags = hits\n    .map(\n      objectOfImg => `<li class=\"elementOfGallery\">\n            <div class=\"imageOfElement\">\n              <a\n                href=\"${objectOfImg.largeImageURL}\"\n                ><img\n                  src=\"${objectOfImg.webformatURL}\"\n                  alt=\"${objectOfImg.tags}\"\n              /></a>\n              <div class=\"infoOfElement\">\n                <p><span>Likes </span> ${objectOfImg.likes}</p>\n                <p><span>Views </span> ${objectOfImg.views}</p>\n                <p><span>Comments </span> ${objectOfImg.comments}</p>\n                <p><span>Downloads </span> ${objectOfImg.downloads}</p>\n              </div>\n            </div>\n          </li>`\n    )\n    .join('');\n  gallery.innerHTML = arrayOfTags;\n};\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchingData } from './js/pixabay-api';\nimport { errorMessage, dataToImages } from './js/render-functions';\n\nconst formInput = document.querySelector('.searchInput');\nconst formBtn = document.querySelector('.submitBtn');\nconst mainForm = document.querySelector('.mainForm');\nconst resultGallery = document.querySelector('.gallery');\nconst loadingProgress = document.querySelector('.loader');\nlet inputValue = '';\n\nmainForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  inputValue = formInput.value;\n\n  if (inputValue.trim() === '') {\n    alert('There must be smth');\n    return;\n  } else {\n    loadingProgress.classList.remove('visually-hidden');\n    searchingData(inputValue)\n      .then(array => {\n        loadingProgress.classList.add('visually-hidden');\n\n        const { hits } = array;\n\n        if (hits.length === 0) {\n          errorMessage(resultGallery, iziToast);\n        } else {\n          dataToImages(array, resultGallery);\n          new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          }).refresh();\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  mainForm.reset();\n});\n"],"names":["searchingData","inputValue","searchParams","array","errorMessage","gallery","iziToast","dataToImages","hits","arrayOfTags","objectOfImg","formInput","mainForm","resultGallery","loadingProgress","event","SimpleLightbox","err"],"mappings":"6vBAEO,MAAMA,EAAgBC,GAAc,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAS,CACrE,GAAIA,EAAM,KAAO,GACf,MAAM,IAAI,MAAMA,EAAM,MAAM,EAE5B,OAAOA,EAAM,MAEnB,CAAG,CACH,EChBaC,EAAe,CAACC,EAASC,IAAa,CACjDD,EAAQ,UAAY,GACpBC,EAAS,KAAK,CACZ,QACE,4EACF,aAAc,UACd,gBAAiB,UACjB,MAAO,mBACP,WAAY,GACZ,OAAQ,MACR,SAAU,WACV,SAAU,QACV,aAAc,SAClB,CAAG,CACH,EAEaC,EAAe,CAACJ,EAAOE,IAAY,CAC9C,KAAM,CAAE,KAAAG,CAAM,EAAGL,EACXM,EAAcD,EACjB,IACCE,GAAe;AAAA;AAAA;AAAA,wBAGGA,EAAY,aAAa;AAAA;AAAA,yBAExBA,EAAY,YAAY;AAAA,yBACxBA,EAAY,IAAI;AAAA;AAAA;AAAA,yCAGAA,EAAY,KAAK;AAAA,yCACjBA,EAAY,KAAK;AAAA,4CACdA,EAAY,QAAQ;AAAA,6CACnBA,EAAY,SAAS;AAAA;AAAA;AAAA,gBAI7D,EACA,KAAK,EAAE,EACVL,EAAQ,UAAYI,CACtB,EC9BME,EAAY,SAAS,cAAc,cAAc,EACvC,SAAS,cAAc,YAAY,EACnD,MAAMC,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAkB,SAAS,cAAc,SAAS,EACxD,IAAIb,EAAa,GAEjBW,EAAS,iBAAiB,SAAUG,GAAS,CAK3C,GAJAA,EAAM,eAAc,EAEpBd,EAAaU,EAAU,MAEnBV,EAAW,KAAM,IAAK,GAAI,CAC5B,MAAM,oBAAoB,EAC1B,MACJ,MACIa,EAAgB,UAAU,OAAO,iBAAiB,EAClDd,EAAcC,CAAU,EACrB,KAAKE,GAAS,CACbW,EAAgB,UAAU,IAAI,iBAAiB,EAE/C,KAAM,CAAE,KAAAN,CAAM,EAAGL,EAEbK,EAAK,SAAW,EAClBJ,EAAaS,EAAeP,CAAQ,GAEpCC,EAAaJ,EAAOU,CAAa,EACjC,IAAIG,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAC1B,CAAW,EAAE,QAAO,EAEpB,CAAO,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAGlCL,EAAS,MAAK,CAChB,CAAC"}